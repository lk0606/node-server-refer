image: node:12.22.6

cache:
  paths:
    - node_modules/
    - dist/

stages:
  # - Preparation
  - Build
  - Deploy

# Preparation:
#   stage: Preparation
#   script:
#   - npm i

Build:
  stage: Build
  script:
  - npm run build
  - ls -a

Deploy:
  stage: Deploy
  script:
  - ls -a
  - sh deploy.sh ${USER} ${IP} ${PASSWORD}
  # - npm run list
  # - npm run stop
  # - npm run prod
